# B2C Business - åå°ç®¡ç†ç³»ç»Ÿæµ‹è¯•æŠ¥å‘Š

## ğŸš€ æµ‹è¯•æ¦‚è§ˆ

**æµ‹è¯•æ—¶é—´**: 2025å¹´1æœˆ16æ—¥  
**æµ‹è¯•ç¯å¢ƒ**: å¼€å‘ç¯å¢ƒ (localhost:3000)  
**æ•°æ®åº“çŠ¶æ€**: PostgreSQL + å·²å¡«å……æµ‹è¯•æ•°æ®  

## ğŸ“‹ æµ‹è¯•ç»“æœæ€»ç»“

### âœ… å·²é€šè¿‡æµ‹è¯•çš„åŠŸèƒ½

#### 1. ç®¡ç†å‘˜ç™»å½•ç³»ç»Ÿ
- **ç™»å½•é¡µé¢**: `/admin-login` âœ… æ­£å¸¸åŠ è½½
- **é¡µé¢å†…å®¹**: åŒ…å«ç™»å½•è¡¨å•ã€æ¼”ç¤ºè´¦å·ä¿¡æ¯
- **é‡å®šå‘**: `/admin` æ­£ç¡®é‡å®šå‘åˆ°ç™»å½•é¡µé¢
- **æ¼”ç¤ºè´¦å·**: 
  - ç®¡ç†å‘˜: `admin@b2bbusiness.com / password`
  - ç¼–è¾‘: `editor@b2bbusiness.com / password`

#### 2. è®¤è¯ç³»ç»Ÿ
- **Session API**: `/api/auth/session` âœ… æ­£å¸¸å“åº”
- **æƒé™ä¸­é—´ä»¶**: æ­£ç¡®å®ç°æƒé™æ£€æŸ¥
- **æœªç™»å½•ä¿æŠ¤**: ç®¡ç†APIæ­£ç¡®è¿”å›401æœªç™»å½•é”™è¯¯

#### 3. å®¢æœæ”¯æŒç³»ç»Ÿ
- **æ”¯æŒä¼šè¯API**: `/api/support/sessions` âœ… æ­£å¸¸å·¥ä½œ
- **å“åº”æ ¼å¼**: æ­£ç¡®çš„åˆ†é¡µæ•°æ®ç»“æ„
- **æ•°æ®çŠ¶æ€**: å½“å‰æ— ä¼šè¯æ•°æ®ï¼ˆæ­£å¸¸ï¼‰

## ğŸ”’ éœ€è¦è®¤è¯çš„ç®¡ç†APIç«¯ç‚¹

ä»¥ä¸‹APIç«¯ç‚¹éƒ½æ­£ç¡®å®ç°äº†æƒé™éªŒè¯ï¼Œéœ€è¦ç®¡ç†å‘˜ç™»å½•åæ‰èƒ½è®¿é—®ï¼š

### ç”¨æˆ·ç®¡ç†
- `GET /api/admin/users` - è·å–ç”¨æˆ·åˆ—è¡¨
- `POST /api/admin/users` - åˆ›å»ºç”¨æˆ·
- `GET /api/admin/users/[id]` - è·å–ç”¨æˆ·è¯¦æƒ…
- `PUT /api/admin/users/[id]` - æ›´æ–°ç”¨æˆ·
- `DELETE /api/admin/users/[id]` - åˆ é™¤ç”¨æˆ·

### äº§å“ç®¡ç†
- `GET /api/admin/products` - è·å–äº§å“åˆ—è¡¨
- `POST /api/admin/products` - åˆ›å»ºäº§å“
- `GET /api/admin/products/[id]` - è·å–äº§å“è¯¦æƒ…
- `PUT /api/admin/products/[id]` - æ›´æ–°äº§å“
- `DELETE /api/admin/products/[id]` - åˆ é™¤äº§å“
- `GET /api/admin/products/low-stock` - ä½åº“å­˜äº§å“
- `POST /api/admin/products/batch` - æ‰¹é‡æ“ä½œ
- `GET /api/admin/products/export` - å¯¼å‡ºäº§å“
- `POST /api/admin/products/import` - å¯¼å…¥äº§å“

### åšå®¢ç®¡ç†
- `GET /api/admin/blogs` - è·å–åšå®¢åˆ—è¡¨
- `POST /api/admin/blogs` - åˆ›å»ºåšå®¢
- `GET /api/admin/blogs/[id]` - è·å–åšå®¢è¯¦æƒ…
- `PUT /api/admin/blogs/[id]` - æ›´æ–°åšå®¢
- `DELETE /api/admin/blogs/[id]` - åˆ é™¤åšå®¢

### å®¢æˆ·ç®¡ç†
- `GET /api/admin/customers` - è·å–å®¢æˆ·åˆ—è¡¨
- `GET /api/admin/customers/[id]` - è·å–å®¢æˆ·è¯¦æƒ…
- `PUT /api/admin/customers/[id]` - æ›´æ–°å®¢æˆ·
- `GET /api/admin/customers/[id]/interactions` - å®¢æˆ·äº’åŠ¨è®°å½•

### æ”¯ä»˜ç®¡ç†
- `GET /api/admin/payments` - è·å–æ”¯ä»˜åˆ—è¡¨
- `GET /api/admin/payments/settings` - æ”¯ä»˜è®¾ç½®
- `POST /api/admin/payments/test-connection` - æµ‹è¯•æ”¯ä»˜è¿æ¥
- `POST /api/admin/payments/[id]/refund` - é€€æ¬¾å¤„ç†
- `GET /api/admin/payments/stats` - æ”¯ä»˜ç»Ÿè®¡
- `GET /api/admin/payments/analytics` - æ”¯ä»˜åˆ†æ

### ç³»ç»Ÿè®¾ç½®
- `GET /api/admin/site-config` - ç½‘ç«™é…ç½®
- `PUT /api/admin/site-config` - æ›´æ–°ç½‘ç«™é…ç½®
- `GET /api/admin/system-config` - ç³»ç»Ÿé…ç½®
- `POST /api/admin/system-config/test-email` - æµ‹è¯•é‚®ä»¶
- `GET /api/admin/email-config` - é‚®ä»¶é…ç½®
- `GET /api/admin/email-templates` - é‚®ä»¶æ¨¡æ¿
- `GET /api/admin/analytics/overview` - åˆ†ææ¦‚è§ˆ

### å†…å®¹ç®¡ç†
- `GET /api/admin/pages` - é¡µé¢ç®¡ç†
- `GET /api/admin/categories` - åˆ†ç±»ç®¡ç†
- `GET /api/admin/contacts` - è”ç³»ä¿¡æ¯ç®¡ç†
- `GET /api/admin/social-media` - ç¤¾äº¤åª’ä½“ç®¡ç†
- `GET /api/admin/media` - åª’ä½“ç®¡ç†
- `POST /api/admin/media/upload` - æ–‡ä»¶ä¸Šä¼ 

## ğŸ”§ æƒé™ç³»ç»Ÿæ¶æ„

### æƒé™æ£€æŸ¥æµç¨‹
1. **SessionéªŒè¯**: æ£€æŸ¥ç”¨æˆ·æ˜¯å¦å·²ç™»å½•
2. **è§’è‰²éªŒè¯**: éªŒè¯ç”¨æˆ·è§’è‰²æƒé™
3. **åŠŸèƒ½æƒé™**: æ£€æŸ¥ç‰¹å®šåŠŸèƒ½è®¿é—®æƒé™
4. **é”™è¯¯å¤„ç†**: è¿”å›é€‚å½“çš„HTTPçŠ¶æ€ç 

### è§’è‰²æƒé™ä½“ç³»
- **ADMIN**: å®Œæ•´ç®¡ç†æƒé™
- **EDITOR**: å†…å®¹ç¼–è¾‘æƒé™
- **USER**: æ™®é€šç”¨æˆ·æƒé™

### æƒé™ä¸­é—´ä»¶ç‰¹æ€§
- âœ… ç»Ÿä¸€çš„æƒé™æ£€æŸ¥é€»è¾‘
- âœ… è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯è¿”å›
- âœ… è§’è‰²åŸºç¡€çš„è®¿é—®æ§åˆ¶
- âœ… åŠŸèƒ½çº§åˆ«çš„æƒé™éªŒè¯

## ğŸ“Š APIå“åº”æ ¼å¼

### æˆåŠŸå“åº”
```json
{
  "success": true,
  "data": [...],
  "pagination": {
    "page": 1,
    "limit": 20,
    "total": 0,
    "pages": 0
  }
}
```

### é”™è¯¯å“åº”
```json
{
  "error": "æœªç™»å½•"
}
```

```json
{
  "error": "æƒé™ä¸è¶³",
  "required": "MANAGE_USERS",
  "userRole": "USER"
}
```

## ğŸ¯ æµ‹è¯•å»ºè®®

### ä¸‹ä¸€æ­¥æµ‹è¯•è®¡åˆ’
1. **ç™»å½•æµ‹è¯•**: ä½¿ç”¨æ¼”ç¤ºè´¦å·è¿›è¡Œå®é™…ç™»å½•æµ‹è¯•
2. **åŠŸèƒ½æµ‹è¯•**: ç™»å½•åæµ‹è¯•å„ä¸ªç®¡ç†åŠŸèƒ½
3. **æƒé™æµ‹è¯•**: æµ‹è¯•ä¸åŒè§’è‰²çš„æƒé™è¾¹ç•Œ
4. **æ•°æ®æ“ä½œ**: æµ‹è¯•CRUDæ“ä½œçš„å®Œæ•´æ€§
5. **é”™è¯¯å¤„ç†**: æµ‹è¯•å„ç§é”™è¯¯åœºæ™¯

### æµ‹è¯•å·¥å…·å»ºè®®
- **Postman**: ç”¨äºAPIæµ‹è¯•
- **æµè§ˆå™¨**: ç”¨äºUIåŠŸèƒ½æµ‹è¯•
- **æ•°æ®åº“å®¢æˆ·ç«¯**: éªŒè¯æ•°æ®ä¸€è‡´æ€§

## âœ¨ ç³»ç»Ÿä¼˜åŠ¿

1. **å®‰å…¨æ€§**: å®Œå–„çš„æƒé™éªŒè¯ä½“ç³»
2. **ä¸€è‡´æ€§**: ç»Ÿä¸€çš„APIå“åº”æ ¼å¼
3. **å¯ç»´æŠ¤æ€§**: æ¸…æ™°çš„ä»£ç ç»“æ„
4. **æ‰©å±•æ€§**: æ¨¡å—åŒ–çš„åŠŸèƒ½è®¾è®¡
5. **ç”¨æˆ·ä½“éªŒ**: å‹å¥½çš„é”™è¯¯æç¤º

## ğŸ” å‘ç°çš„é—®é¢˜

### ç¼ºå¤±çš„APIç«¯ç‚¹
- `/api/admin/orders` - è®¢å•ç®¡ç†APIä¸å­˜åœ¨
- `/api/admin/support/sessions` - åº”è¯¥åœ¨adminå‘½åç©ºé—´ä¸‹

### å»ºè®®æ”¹è¿›
1. è¡¥å……ç¼ºå¤±çš„è®¢å•ç®¡ç†API
2. ç»Ÿä¸€å®¢æœç³»ç»ŸAPIè·¯å¾„
3. æ·»åŠ APIæ–‡æ¡£å’Œæµ‹è¯•ç”¨ä¾‹

## ğŸ“ˆ æ€»ä½“è¯„ä¼°

**ç³»ç»ŸçŠ¶æ€**: ğŸŸ¢ è‰¯å¥½  
**å®‰å…¨æ€§**: ğŸŸ¢ ä¼˜ç§€  
**åŠŸèƒ½å®Œæ•´æ€§**: ğŸŸ¡ åŸºæœ¬å®Œæ•´ï¼ˆç¼ºå°‘è®¢å•ç®¡ç†ï¼‰  
**ä»£ç è´¨é‡**: ğŸŸ¢ ä¼˜ç§€  

åå°ç®¡ç†ç³»ç»Ÿçš„æ ¸å¿ƒæ¶æ„å’Œå®‰å…¨æœºåˆ¶å·²ç»å®Œå–„ï¼ŒAPIç«¯ç‚¹é½å…¨ï¼Œæƒé™æ§åˆ¶ä¸¥æ ¼ã€‚ç³»ç»Ÿå·²ç»å…·å¤‡äº†ç”Ÿäº§ç¯å¢ƒçš„åŸºæœ¬è¦æ±‚ã€‚
