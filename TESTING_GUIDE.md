# B2C Business Platform - 测试指导文档

## 🚀 快速启动

### 1. 启动数据库
```bash
docker-compose up -d
```

### 2. 启动开发服务器
```bash
pnpm run dev
```

### 3. 访问地址
- **用户端**: http://localhost:3000
- **管理后台**: http://localhost:3000/admin

## 👥 测试账号

### 管理员账号
- **邮箱**: `admin@b2bbusiness.com`
- **密码**: `password`
- **角色**: ADMIN
- **权限**: 完整后台管理权限

### 编辑账号
- **邮箱**: `editor@b2bbusiness.com`
- **密码**: `password`
- **角色**: EDITOR
- **权限**: 内容编辑权限

### 普通用户账号
- **邮箱**: `user1@example.com`
- **密码**: `password`
- **角色**: USER

- **邮箱**: `user2@example.com`
- **密码**: `password`
- **角色**: USER

## 🧪 测试流程

### 用户端测试
1. **首页功能**
   - 访问 http://localhost:3000
   - 检查页面加载和响应式设计
   - 测试导航菜单和链接

2. **产品页面**
   - 访问产品列表页面
   - 测试产品搜索和筛选
   - 查看产品详情页面

3. **博客页面**
   - 访问博客列表
   - 查看博客文章详情

4. **联系我们**
   - 测试联系表单提交
   - 验证表单验证功能

5. **用户注册/登录**
   - 测试用户注册流程
   - 测试用户登录功能
   - 测试用户个人资料页面

### 管理后台测试
1. **管理员登录**
   - 访问 http://localhost:3000/admin-login
   - 使用管理员账号登录

2. **仪表板**
   - 检查数据统计显示
   - 验证图表和数据可视化

3. **产品管理**
   - 添加新产品
   - 编辑现有产品
   - 管理产品分类
   - 测试产品图片上传

4. **博客管理**
   - 创建新博客文章
   - 编辑现有文章
   - 管理文章发布状态

5. **用户管理**
   - 查看用户列表
   - 编辑用户信息
   - 管理用户角色和状态

6. **订单管理**
   - 查看订单列表
   - 处理订单状态

7. **联系管理**
   - 查看联系表单提交
   - 回复客户询问

8. **系统设置**
   - 网站配置管理
   - 邮件模板设置
   - 社交媒体链接配置

## 💳 支付测试

### Stripe 测试卡号
- **成功支付**: `4242424242424242`
- **需要验证**: `4000002500003155`
- **拒绝支付**: `4000000000000002`
- **过期日期**: 任何未来日期 (如 12/34)
- **CVC**: 任何3位数字 (如 123)

### 测试支付流程
1. 添加产品到购物车
2. 进入结账页面
3. 使用测试卡号完成支付
4. 验证支付成功/失败页面

## 🔍 功能检查清单

### 用户端功能
- [ ] 首页加载正常
- [ ] 产品列表和详情页面
- [ ] 博客列表和文章页面
- [ ] 联系表单提交
- [ ] 用户注册和登录
- [ ] 响应式设计 (移动端/桌面端)
- [ ] 搜索功能
- [ ] 购物车功能
- [ ] 支付流程

### 管理后台功能
- [ ] 管理员登录
- [ ] 仪表板数据显示
- [ ] 产品 CRUD 操作
- [ ] 博客 CRUD 操作
- [ ] 用户管理
- [ ] 订单管理
- [ ] 联系管理
- [ ] 系统设置
- [ ] 文件上传功能
- [ ] 数据导出功能

### 技术功能
- [ ] 数据库连接正常
- [ ] API 接口响应正常
- [ ] 身份验证和授权
- [ ] 错误处理
- [ ] 表单验证
- [ ] 图片上传和处理
- [ ] 邮件发送功能
- [ ] SEO 优化

## 🐛 常见问题

### 数据库连接问题
```bash
# 重启数据库
docker-compose down
docker-compose up -d

# 重新生成 Prisma 客户端
pnpm prisma generate

# 运行数据库迁移
pnpm prisma migrate dev

# 重新填充测试数据
pnpm prisma:seed
```

### 端口冲突
```bash
# 查找占用端口的进程
lsof -ti:3000

# 杀死进程
kill -9 <PID>

# 或者使用不同端口启动
pnpm dev -- -p 3001
```

### 清除缓存
```bash
# 清除 Next.js 缓存
rm -rf .next

# 重新安装依赖
rm -rf node_modules pnpm-lock.yaml
pnpm install
```

## 📝 测试报告

测试完成后，请记录：
1. 发现的问题和错误
2. 功能完整性评估
3. 性能表现
4. 用户体验反馈
5. 改进建议

## 🔗 相关文档

- [项目架构文档](SYSTEM_ARCHITECTURE.md)
- [功能特性列表](FEATURES.md)
- [数据库设置指南](DATABASE_SETUP.md)
- [快速开始指南](QUICK_START.md)
